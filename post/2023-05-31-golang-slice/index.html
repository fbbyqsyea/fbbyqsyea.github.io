<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.117.0">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Slice踩坑日记 &middot; bing随遇而安</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  
  
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">

  
  
</head>

  <body class="theme-base-08 ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://fbbmore.com/"><h1>bing随遇而安</h1></a>
      <p class="lead">
       废柴都是间歇性的自虐 强者却是持续性的自律 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://fbbmore.com/">首页</a> </li>
        <li><a href="https://fbbmore.com//tags">标签</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2023. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Slice踩坑日记</h1>
  <time datetime=2023-05-31T00:00:00Z class="post-date">Wed, May 31, 2023</time>
  <h2 id="问题">问题</h2>
<p>今天遇到一个这样的问题。背景是这样的，项目需要维护一个多账号的openai Client，我选取了map[string][]*openai.Client这种结构来实现。map用来区分不同标识，slice用来维护同一个标识下面的多个openai Client。代码如下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// openai config
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">OpenAIConfig</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Secret</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>][]<span style="color:#66d9ef">string</span> <span style="color:#e6db74">`json:&#34;secret&#34;`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Proxy</span>  <span style="color:#66d9ef">string</span>              <span style="color:#e6db74">`json:&#34;proxy&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// packaging openai client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">OpenAIClient</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">client</span>  <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>][]<span style="color:#f92672">*</span><span style="color:#a6e22e">openai</span>.<span style="color:#a6e22e">Client</span> <span style="color:#75715e">// ori openai client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">counter</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#f92672">*</span><span style="color:#66d9ef">uint64</span> <span style="color:#75715e">// dispatch counter
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// new packaging openAI Client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewOpenAIClient</span>(<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">OpenAIConfig</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OpenAIClient</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">client</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">OpenAIClient</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">client</span>:  make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>][]<span style="color:#f92672">*</span><span style="color:#a6e22e">openai</span>.<span style="color:#a6e22e">Client</span>),
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">counter</span>: make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#f92672">*</span><span style="color:#66d9ef">uint64</span>),
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">sli</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Secret</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">client</span>[<span style="color:#a6e22e">k</span>] = make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">openai</span>.<span style="color:#a6e22e">Client</span>, len(<span style="color:#a6e22e">sli</span>))
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">secret</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">sli</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">openaiClient</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Proxy</span>, <span style="color:#a6e22e">secret</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">client</span>[<span style="color:#a6e22e">k</span>] = append(<span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">client</span>[<span style="color:#a6e22e">k</span>], <span style="color:#a6e22e">cli</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">client</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// new ori openai Client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">openaiClient</span>(<span style="color:#a6e22e">proxy</span>, <span style="color:#a6e22e">secret</span> <span style="color:#66d9ef">string</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">openai</span>.<span style="color:#a6e22e">Client</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>代码实现很简单，但是在运行过程中，一直报如下错误:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>16:50:37 app         | panic: runtime error: invalid memory address or nil pointer dereference
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>signal SIGSEGV: segmentation violation code<span style="color:#f92672">=</span>0x1 addr<span style="color:#f92672">=</span>0x30 pc<span style="color:#f92672">=</span>0x13cfac9<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>goroutine <span style="color:#ae81ff">101</span> <span style="color:#f92672">[</span>running<span style="color:#f92672">]</span>:
</span></span><span style="display:flex;"><span>16:50:37 app         | github.com/sashabaranov/go-openai.<span style="color:#f92672">(</span>*Client<span style="color:#f92672">)</span>.fullURL<span style="color:#f92672">(</span>0xc000525af0?, <span style="color:#f92672">{</span>0x1b9607b, 0x11<span style="color:#f92672">}</span>, <span style="color:#f92672">{</span>0xc000525bd8
</span></span><span style="display:flex;"><span>16:50:37 app         | , 0x1, 0x10e3386?
</span></span><span style="display:flex;"><span>16:50:37 app         | <span style="color:#f92672">})</span>
</span></span><span style="display:flex;"><span>        /Users/fbbyqsyea/go/pkg/mod/github.com/sashabaranov/go-openai@v1.9.4/client.go
</span></span><span style="display:flex;"><span>16:50:37 app         | :105 +0x49
</span></span><span style="display:flex;"><span>github.com/sashabaranov/go-openai.<span style="color:#f92672">(</span>*Client<span style="color:#f92672">)</span>.newStreamRequest<span style="color:#f92672">(</span>
</span></span></code></pre></div><p>错误显示 <!-- raw HTML omitted --><em>内存地址不可用或空指针引用</em><!-- raw HTML omitted -->，debug之后发现是在初始化Slice的时候打算指定Slice的容量，但是由于学艺不精指定成了Slice的长度。导致append之后Slice里面有两个空的nil。所以报错了。在这里我们来一起重新简单学习一下golang slice。错误代码如下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">client</span>[<span style="color:#a6e22e">k</span>] = make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">openai</span>.<span style="color:#a6e22e">Client</span>, len(<span style="color:#a6e22e">sli</span>))
</span></span></code></pre></div><h2 id="学习">学习</h2>
<h4 id="简介">简介</h4>
<p>切片是 Go 语言中重要的数据结构之一，它提供了对连续元素序列的动态长度访问。切片是基于数组的封装，具有更灵活的长度和容量。</p>
<h4 id="创建">创建</h4>
<h6 id="声明一个切片变量">声明一个切片变量</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">slice</span> []<span style="color:#66d9ef">int</span>
</span></span></code></pre></div><h6 id="基于字面量创建切片">基于字面量创建切片</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">slice</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>}
</span></span></code></pre></div><h6 id="使用make函数创建">使用make函数创建</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">slice</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">5</span>)         <span style="color:#75715e">// 长度为5，容量为5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">slice</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>)     <span style="color:#75715e">// 长度为0，容量为10
</span></span></span></code></pre></div><h4 id="操作">操作</h4>
<p>切片支持一系列常见的操作，例如：</p>
<h6 id="访问元素使用索引访问切片中的元素从0开始">访问元素：使用索引访问切片中的元素，从0开始：</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">element</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">slice</span>[<span style="color:#a6e22e">index</span>]
</span></span></code></pre></div><h6 id="修改元素通过索引可以修改切片中的元素">修改元素：通过索引可以修改切片中的元素：</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">slice</span>[<span style="color:#a6e22e">index</span>] = <span style="color:#a6e22e">newValue</span>
</span></span></code></pre></div><h6 id="切片切片可以使用切片操作创建新的切片提取部分元素">切片切片：可以使用切片操作创建新的切片，提取部分元素：</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">newSlice</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">slice</span>[<span style="color:#a6e22e">startIndex</span>:<span style="color:#a6e22e">endIndex</span>] <span style="color:#75715e">// 提取从 startIndex 到 endIndex-1 的元素
</span></span></span></code></pre></div><h6 id="切片追加使用-append-函数向切片末尾追加元素">切片追加：使用 append 函数向切片末尾追加元素：</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">slice</span> = append(<span style="color:#a6e22e">slice</span>, <span style="color:#a6e22e">element1</span>, <span style="color:#a6e22e">element2</span>, <span style="color:#f92672">...</span>)
</span></span></code></pre></div><h6 id="切片长度和容量使用-len-和-cap-函数获取切片的长度和容量">切片长度和容量：使用 len 和 cap 函数获取切片的长度和容量：</h6>
<ul>
<li>切片长度（Length）：切片的长度是指切片中当前存储的元素数量。可以使用内置的 len() 函数获取切片的长度。例如，len(slice) 返回切片 slice 的长度。</li>
<li>切片容量（Capacity）：切片的容量是指底层数组中可以存储的元素数量。切片容量是在创建切片时由运行时系统自动分配的，可以使用内置的 cap() 函数获取切片的容量。例如，cap(slice) 返回切片 slice 的容量。</li>
<li>指定长度的切片会被初始化为类型对应的零值。</li>
<li>切片的容量超过后会重新分配内存。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">length</span> <span style="color:#f92672">:=</span> len(<span style="color:#a6e22e">slice</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">capacity</span> <span style="color:#f92672">:=</span> cap(<span style="color:#a6e22e">slice</span>)
</span></span></code></pre></div><h4 id="特性">特性</h4>
<p>切片的一些重要特性需要了解：</p>
<ul>
<li>切片是引用类型：多个切片可以引用相同的底层数组，修改一个切片会影响到其他引用该底层数组的切片。</li>
<li>切片扩容：当追加元素时，如果底层数组容量不足，切片会自动扩容，重新分配更大的底层数组。</li>
<li>切片与数组的关系：切片是基于数组的封装，底层数组实际存储元素的地方。</li>
<li>切片的零值是 nil：未初始化的切片值为 nil，可以通过判断切片是否为 nil 来确定是否已分配底层数组。</li>
</ul>
<h4 id="示例">示例</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 创建切片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">slice</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 访问元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">slice</span>[<span style="color:#ae81ff">0</span>]) <span style="color:#75715e">// 输出: 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 修改元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">slice</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">slice</span>) <span style="color:#75715e">// 输出: [10 2 3 4 5]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 切片切片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">newSlice</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">slice</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">newSlice</span>) <span style="color:#75715e">// 输出: [2 3]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 切片追加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">slice</span> = append(<span style="color:#a6e22e">slice</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">slice</span>) <span style="color:#75715e">// 输出: [10 2 3 4 5 6 7]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 切片长度和容量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(len(<span style="color:#a6e22e">slice</span>))  <span style="color:#75715e">// 输出: 7
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(cap(<span style="color:#a6e22e">slice</span>))  <span style="color:#75715e">// 输出: 8
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 切片特性
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">otherSlice</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">slice</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">otherSlice</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">slice</span>)      <span style="color:#75715e">// 输出: [20 2 3 4 5 6 7]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">otherSlice</span>) <span style="color:#75715e">// 输出: [20 2 3 4 5 6 7]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h2 id="解答">解答</h2>
<p>通过学习，我们知道了go slice中Length和Capacity的区别，所以修改代码为如下即可解决问题:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">client</span>[<span style="color:#a6e22e">k</span>] = make([]<span style="color:#f92672">*</span><span style="color:#a6e22e">openai</span>.<span style="color:#a6e22e">Client</span>, <span style="color:#ae81ff">0</span>, len(<span style="color:#a6e22e">sli</span>))
</span></span></code></pre></div><p>我们需要指定的是切片容量而不是长度。需要注意的是，只有确定slice的大小后采取指定容量。而不是随便的指定容量的大小，这样容易导致内存频繁的重新分配。影响性能问题。</p>

</div>


    </main>

    
      
    
  </body>
</html>
