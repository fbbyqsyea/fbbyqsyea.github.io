<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.117.0">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>multipass教程 &middot; bing随遇而安</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="/css/poole.css">
  <link type="text/css" rel="stylesheet" href="/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  
  
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">

  
  
</head>

  <body class="theme-base-0c ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="/"><h1>bing随遇而安</h1></a>
      <p class="lead">
       废柴都是间歇性的自虐 强者却是持续性的自律 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="/">首页</a> </li>
        <li><a href="//tags">标签</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2023. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>multipass教程</h1>
  <time datetime=2022-07-05T00:00:00Z class="post-date">Tue, Jul 5, 2022</time>
  <h2 id="how-to-create-an-instance">How to create an instance</h2>
<h3 id="create-a-instance">create a instance</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 创建一个默认实例 </span>
</span></span><span style="display:flex;"><span>$ multipass launch
</span></span><span style="display:flex;"><span>Launched: enjoyed-coatimundi
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 查看实例详情</span>
</span></span><span style="display:flex;"><span>$  multipass info enjoyed-coatimundi
</span></span><span style="display:flex;"><span>Name:           enjoyed-coatimundi
</span></span><span style="display:flex;"><span>State:          Running
</span></span><span style="display:flex;"><span>IPv4:           192.168.64.2
</span></span><span style="display:flex;"><span>Release:        Ubuntu 20.04.4 LTS
</span></span><span style="display:flex;"><span>Image hash:     75a04c7eed58 <span style="color:#f92672">(</span>Ubuntu 20.04 LTS<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Load:           0.05 0.15 0.08
</span></span><span style="display:flex;"><span>Disk usage:     1.4G out of 4.7G
</span></span><span style="display:flex;"><span>Memory usage:   139.4M out of 976.9M
</span></span><span style="display:flex;"><span>Mounts:         --
</span></span></code></pre></div><h3 id="create-an-instance-with-a-specific-image">create an instance with a specific image</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 查找可用的镜像</span>
</span></span><span style="display:flex;"><span>$ multipass find
</span></span><span style="display:flex;"><span>Image                       Aliases           Version          Description
</span></span><span style="display:flex;"><span>snapcraft:core18            18.04             <span style="color:#ae81ff">20201111</span>         Snapcraft builder <span style="color:#66d9ef">for</span> Core <span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>snapcraft:core20            20.04             <span style="color:#ae81ff">20210921</span>         Snapcraft builder <span style="color:#66d9ef">for</span> Core <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>snapcraft:core22            22.04             <span style="color:#ae81ff">20220426</span>         Snapcraft builder <span style="color:#66d9ef">for</span> Core <span style="color:#ae81ff">22</span>
</span></span><span style="display:flex;"><span>18.04                       bionic            <span style="color:#ae81ff">20220615</span>         Ubuntu 18.04 LTS
</span></span><span style="display:flex;"><span>20.04                       focal,lts         <span style="color:#ae81ff">20220615</span>         Ubuntu 20.04 LTS
</span></span><span style="display:flex;"><span>21.10                       impish            <span style="color:#ae81ff">20220616</span>         Ubuntu 21.10
</span></span><span style="display:flex;"><span>22.04                       jammy             <span style="color:#ae81ff">20220622</span>         Ubuntu 22.04 LTS
</span></span><span style="display:flex;"><span>anbox-cloud-appliance                         latest           Anbox Cloud Appliance
</span></span><span style="display:flex;"><span>charm-dev                                     latest           A development and testing environment <span style="color:#66d9ef">for</span> charmers
</span></span><span style="display:flex;"><span>docker                                        latest           A Docker environment with Portainer and related tools
</span></span><span style="display:flex;"><span>minikube                                      latest           minikube is local Kubernetes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 运行ubuntu 18.04， 别称:bionic</span>
</span></span><span style="display:flex;"><span>$ multipass launch bionic
</span></span><span style="display:flex;"><span>Launched: intimate-monkey
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 查看实例详情</span>
</span></span><span style="display:flex;"><span>$ multipass info intimate-monkey
</span></span><span style="display:flex;"><span>Name:           intimate-monkey
</span></span><span style="display:flex;"><span>State:          Running
</span></span><span style="display:flex;"><span>IPv4:           192.168.64.3
</span></span><span style="display:flex;"><span>Release:        Ubuntu 18.04.6 LTS
</span></span><span style="display:flex;"><span>Image hash:     babb200587b4 <span style="color:#f92672">(</span>Ubuntu 18.04 LTS<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Load:           0.01 0.04 0.01
</span></span><span style="display:flex;"><span>Disk usage:     1.1G out of 4.7G
</span></span><span style="display:flex;"><span>Memory usage:   73.1M out of 985.6M
</span></span><span style="display:flex;"><span>Mounts:         --
</span></span></code></pre></div><h3 id="create-an-instance-with-a-custom-name">create an instance with a custom name</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 使用--name参数指定创建实例的名字</span>
</span></span><span style="display:flex;"><span>$ multipass launch bionic --name test111
</span></span><span style="display:flex;"><span>Launched: test111
</span></span></code></pre></div><h3 id="create-an-instance-with-custom-cpu-number-disk-and-ram">create an instance with custom cpu number, disk, and RAM</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 使用--cpu, --disk, --mem来指定创建实例的cpu核数、磁盘大小、内存大小</span>
</span></span><span style="display:flex;"><span>$ multipass launch bionic --name test222 --cpu <span style="color:#ae81ff">4</span> --disk 20G --mem 8G
</span></span><span style="display:flex;"><span>Launched: test222
</span></span></code></pre></div><h3 id="create-an-instance-with-primary-status">create an instance with primary status</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 如果实例名称为primary 则此实例为默认实例</span>
</span></span><span style="display:flex;"><span>$ multipass launch 18.04 --name primary
</span></span><span style="display:flex;"><span>Launched: primary
</span></span><span style="display:flex;"><span>Mounted <span style="color:#e6db74">&#39;/Users/bingbing.fu&#39;</span> into <span style="color:#e6db74">&#39;primary:Home&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 查看实例信息</span>
</span></span><span style="display:flex;"><span>$ multipass info primary
</span></span><span style="display:flex;"><span>Name:           primary
</span></span><span style="display:flex;"><span>State:          Running
</span></span><span style="display:flex;"><span>IPv4:           192.168.64.5
</span></span><span style="display:flex;"><span>Release:        Ubuntu 18.04.6 LTS
</span></span><span style="display:flex;"><span>Image hash:     babb200587b4 <span style="color:#f92672">(</span>Ubuntu 18.04 LTS<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Load:           0.54 0.24 0.09
</span></span><span style="display:flex;"><span>Disk usage:     1.2G out of 4.7G
</span></span><span style="display:flex;"><span>Memory usage:   108.5M out of 985.6M
</span></span><span style="display:flex;"><span>Mounts:         /Users/bingbing.fu <span style="color:#f92672">=</span>&gt; Home
</span></span><span style="display:flex;"><span>                    UID map: 501:default
</span></span><span style="display:flex;"><span>                    GID map: 20:default
</span></span></code></pre></div><h3 id="a-hrefhttpsmultipassrundocscreate-an-instanceother-condition-to-create-an-instancea"><!-- raw HTML omitted -->other condition to create an instance.<!-- raw HTML omitted --></h3>
<h2 id="how-to-use-an-instance">How to use an instance</h2>
<h3 id="open-a-shell-prompt-inside-an-instance">open a shell prompt inside an instance</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 查看实例列表</span>
</span></span><span style="display:flex;"><span>$ multipass list
</span></span><span style="display:flex;"><span>Name                    State             IPv4             Image
</span></span><span style="display:flex;"><span>primary                 Running           192.168.64.5     Ubuntu 18.04 LTS
</span></span><span style="display:flex;"><span>enjoyed-coatimundi      Running           192.168.64.2     Ubuntu 20.04 LTS
</span></span><span style="display:flex;"><span>intimate-monkey         Running           192.168.64.3     Ubuntu 18.04 LTS
</span></span><span style="display:flex;"><span>test111                 Running           192.168.64.4     Ubuntu 18.04 LTS
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 登录实例shell</span>
</span></span><span style="display:flex;"><span>$ multipass shell test111
</span></span><span style="display:flex;"><span>Welcome to Ubuntu 18.04.6 LTS <span style="color:#f92672">(</span>GNU/Linux 4.15.0-187-generic x86_64<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> * Documentation:  https://help.ubuntu.com
</span></span><span style="display:flex;"><span> * Management:     https://landscape.canonical.com
</span></span><span style="display:flex;"><span> * Support:        https://ubuntu.com/advantage
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System information as of Tue Jul  <span style="color:#ae81ff">5</span> 09:22:20 CST <span style="color:#ae81ff">2022</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System load:  0.08              Processes:             <span style="color:#ae81ff">91</span>
</span></span><span style="display:flex;"><span>  Usage of /:   23.9% of 4.67GB   Users logged in:       <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  Memory usage: 12%               IP address <span style="color:#66d9ef">for</span> enp0s2: 192.168.64.4
</span></span><span style="display:flex;"><span>  Swap usage:   0%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> * Super-optimized <span style="color:#66d9ef">for</span> small spaces - read how we shrank the memory
</span></span><span style="display:flex;"><span>   footprint of MicroK8s to make it the smallest full K8s around.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   https://ubuntu.com/blog/microk8s-memory-optimisation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> updates can be applied immediately.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>To run a command as administrator <span style="color:#f92672">(</span>user <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">)</span>, use <span style="color:#e6db74">&#34;sudo &lt;command&gt;&#34;</span>.
</span></span><span style="display:flex;"><span>See <span style="color:#e6db74">&#34;man sudo_root&#34;</span> <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## multipass shell默认登录primary实例</span>
</span></span><span style="display:flex;"><span>$ multipass shell
</span></span><span style="display:flex;"><span>Welcome to Ubuntu 18.04.6 LTS <span style="color:#f92672">(</span>GNU/Linux 4.15.0-187-generic x86_64<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> * Documentation:  https://help.ubuntu.com
</span></span><span style="display:flex;"><span> * Management:     https://landscape.canonical.com
</span></span><span style="display:flex;"><span> * Support:        https://ubuntu.com/advantage
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System information as of Tue Jul  <span style="color:#ae81ff">5</span> 09:23:32 CST <span style="color:#ae81ff">2022</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System load:  0.0               Processes:             <span style="color:#ae81ff">101</span>
</span></span><span style="display:flex;"><span>  Usage of /:   25.0% of 4.67GB   Users logged in:       <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  Memory usage: 16%               IP address <span style="color:#66d9ef">for</span> enp0s2: 192.168.64.5
</span></span><span style="display:flex;"><span>  Swap usage:   0%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> * Super-optimized <span style="color:#66d9ef">for</span> small spaces - read how we shrank the memory
</span></span><span style="display:flex;"><span>   footprint of MicroK8s to make it the smallest full K8s around.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   https://ubuntu.com/blog/microk8s-memory-optimisation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> updates can be applied immediately.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>New release <span style="color:#e6db74">&#39;20.04.4 LTS&#39;</span> available.
</span></span><span style="display:flex;"><span>Run <span style="color:#e6db74">&#39;do-release-upgrade&#39;</span> to upgrade to it.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ubuntu@primary:~$
</span></span></code></pre></div><h3 id="exec-a-command-inside-an-instance">Exec a command inside an instance</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## exec 命令用来远程调用执行实例的命令</span>
</span></span><span style="display:flex;"><span>$ multipass exec test111 -- pwd
</span></span><span style="display:flex;"><span>/home/ubuntu
</span></span></code></pre></div><h3 id="start-an-instance">Start an instance</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 启动实例</span>
</span></span><span style="display:flex;"><span>$ multipass start test111
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 查看启动后的实例状态</span>
</span></span><span style="display:flex;"><span>$ multipass info test111
</span></span><span style="display:flex;"><span>Name:           test111
</span></span><span style="display:flex;"><span>State:          Running
</span></span><span style="display:flex;"><span>IPv4:           192.168.64.4
</span></span><span style="display:flex;"><span>Release:        Ubuntu 18.04.6 LTS
</span></span><span style="display:flex;"><span>Image hash:     babb200587b4 <span style="color:#f92672">(</span>Ubuntu 18.04 LTS<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Load:           0.72 0.16 0.05
</span></span><span style="display:flex;"><span>Disk usage:     1.3G out of 4.7G
</span></span><span style="display:flex;"><span>Memory usage:   91.7M out of 985.6M
</span></span><span style="display:flex;"><span>Mounts:         --
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 启动多个实例</span>
</span></span><span style="display:flex;"><span>$ multipass start test111 test112 test113
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 启动所有的实例</span>
</span></span><span style="display:flex;"><span>$ multipass start -all
</span></span></code></pre></div><h3 id="stop-an-instance">Stop an instance</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 停止实例</span>
</span></span><span style="display:flex;"><span>$ multiopass stop test111
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 查看停止后的实例状态</span>
</span></span><span style="display:flex;"><span>$ multipass info test111
</span></span><span style="display:flex;"><span>Name:           test111
</span></span><span style="display:flex;"><span>State:          Stopped
</span></span><span style="display:flex;"><span>IPv4:           --
</span></span><span style="display:flex;"><span>Release:        --
</span></span><span style="display:flex;"><span>Image hash:     babb200587b4 <span style="color:#f92672">(</span>Ubuntu 18.04 LTS<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Load:           --
</span></span><span style="display:flex;"><span>Disk usage:     --
</span></span><span style="display:flex;"><span>Memory usage:   --
</span></span><span style="display:flex;"><span>Mounts:         --
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 停止多个实例</span>
</span></span><span style="display:flex;"><span>$ multipass start test111 test112 test113
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 停止所有的实例</span>
</span></span><span style="display:flex;"><span>$ multipass start --all
</span></span></code></pre></div><h3 id="suspend-an-instance">Suspend an instance</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">## 挂起实例</span>
</span></span><span style="display:flex;"><span>$ multipass suspend test111
</span></span></code></pre></div>
</div>


    </main>

    
      
    
  </body>
</html>
