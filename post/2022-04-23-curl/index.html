<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.117.0">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>curl简易教程 &middot; bing随遇而安</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://fbbmore.com/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  
  
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">

  
  
</head>

  <body class="theme-base-08 ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://fbbmore.com/"><h1>bing随遇而安</h1></a>
      <p class="lead">
       废柴都是间歇性的自虐 强者却是持续性的自律 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://fbbmore.com/">首页</a> </li>
        <li><a href="https://fbbmore.com//tags">标签</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2023. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>curl简易教程</h1>
  <time datetime=2022-04-23T00:00:00Z class="post-date">Sat, Apr 23, 2022</time>
  <h4 id="简介">简介</h4>
<blockquote>
<p>curl是一个命令行工具，作用是发送网络请求，然后获取数据，显示在标准输出(stdout)上面。支持多种协议。</p>
</blockquote>
<h4 id="示例">示例</h4>
<h6 id="查看网页源码">查看网页源码</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl www.sina.com
</span></span></code></pre></div><h6 id="保存网页源码">保存网页源码</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl www.sina.com -o index.html
</span></span></code></pre></div><h6 id="自动跳转">自动跳转</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -L www.sina.com
</span></span></code></pre></div><h6 id="显示网页头信息">显示网页头信息</h6>
<blockquote>
<p>-i 显示网页头信息和内容  -I只显示网页头信息</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -i www.sina.com 
</span></span><span style="display:flex;"><span>$ curl -I www.sina.com
</span></span></code></pre></div><h6 id="显示通信过程">显示通信过程</h6>
<blockquote>
<p>-v参数可以显示一次完整的http通信过程。包括端口连接和http request头信息</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -v www.sina.com
</span></span></code></pre></div><h6 id="显示更详细的通信过程">显示更详细的通信过程</h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl --trace output.txt www.sina.com
</span></span><span style="display:flex;"><span>$ curl --trace-ascii output.txt www.sina.com
</span></span></code></pre></div><h6 id="发送表单信息">发送表单信息</h6>
<blockquote>
<p>GET只需要把数据附在链接后面即可</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl example.com?a<span style="color:#f92672">=</span>1&amp;b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span></code></pre></div><blockquote>
<p>POST请求必须把数据和链接分开 使用-d或者&ndash;data来发送数据 需要显式的声明post方法</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -X POST --data <span style="color:#e6db74">&#34;data=111&#34;</span> example.com/form.cgi
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果数据没有经过表单编码 可以使用--data-urlencode进行编码</span>
</span></span><span style="display:flex;"><span>$ curl -X POST --data-urlencode <span style="color:#e6db74">&#34;data=测试数据&#34;</span> <span style="color:#e6db74">&#34;http://httpbin.org/post&#34;</span>
</span></span></code></pre></div><blockquote>
<p>POST json数据 需要声明头信息</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -X POST -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -d <span style="color:#e6db74">&#34;{\&#34;test\&#34;:1111}&#34;</span> <span style="color:#e6db74">&#34;http://httpbin.org/post&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># json数据放在文件里面</span>
</span></span><span style="display:flex;"><span>$ curl -X POST -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -d @test.json <span style="color:#e6db74">&#34;http://httpbin.org/post&#34;</span>
</span></span></code></pre></div><h6 id="curl动词">curl动词</h6>
<blockquote>
<p>curl默认使用的动词是GET 可以通过-X参数使用别的动词</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -X DELETE example.com/111.png
</span></span></code></pre></div><h6 id="user-agent字段">User Agent字段</h6>
<blockquote>
<p>这个字段是用来标识客户端的设备信息，服务器有时候会根据这个字段，针对不同设备，返回不同信息。</p>
</blockquote>
<pre tabindex="0"><code>Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.84 Safari/537.36
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl --user-agent <span style="color:#e6db74">&#34;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.84 Safari/537.36&#34;</span> example.com
</span></span></code></pre></div><h6 id="cookie">cookie</h6>
<blockquote>
<p>使用&ndash;cookie参数 可以让curl发送请求时携带cookie信息</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl --cookie <span style="color:#e6db74">&#34;name=xxxx&#34;</span> example.com
</span></span></code></pre></div><blockquote>
<p>有时需要在http request中增加一个头信息 可以使用&ndash;header</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl --header <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> http://example.com
</span></span></code></pre></div><h6 id="文件上传">文件上传</h6>
<blockquote>
<p>使用-F参数来模拟multipart/form-data形式的form文件上传。文件需要使用 name=@file的方式来指定。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -F <span style="color:#e6db74">&#34;file=@/home/test/test.png&#34;</span> http://example.com/upload
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果通过代理，上述直接上传的命令会失效，需要指定上传文件的MIME类型</span>
</span></span><span style="display:flex;"><span>$ curl -x myproxy:1080 -F <span style="color:#e6db74">&#34;file=@/home/test/test.png;type=application/octet-stream&#34;</span> http://example.com/upload
</span></span></code></pre></div>
</div>


    </main>

    
      
    
  </body>
</html>
