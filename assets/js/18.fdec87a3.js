(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{321:function(a,s,t){"use strict";t.r(s);var e=t(5),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"curl简易教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl简易教程"}},[a._v("#")]),a._v(" curl简易教程")]),a._v(" "),s("h4",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("blockquote",[s("p",[a._v("curl是一个命令行工具，作用是发送网络请求，然后获取数据，显示在标准输出(stdout)上面。支持多种协议。")])]),a._v(" "),s("h4",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[a._v("#")]),a._v(" 示例")]),a._v(" "),s("h6",{attrs:{id:"查看网页源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看网页源码"}},[a._v("#")]),a._v(" 查看网页源码")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" www.sina.com\n")])])]),s("h6",{attrs:{id:"保存网页源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保存网页源码"}},[a._v("#")]),a._v(" 保存网页源码")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" www.sina.com "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" index.html\n")])])]),s("h6",{attrs:{id:"自动跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动跳转"}},[a._v("#")]),a._v(" 自动跳转")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" www.sina.com\n")])])]),s("h6",{attrs:{id:"显示网页头信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示网页头信息"}},[a._v("#")]),a._v(" 显示网页头信息")]),a._v(" "),s("blockquote",[s("p",[a._v("-i 显示网页头信息和内容  -I只显示网页头信息")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" www.sina.com \n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" www.sina.com\n")])])]),s("h6",{attrs:{id:"显示通信过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示通信过程"}},[a._v("#")]),a._v(" 显示通信过程")]),a._v(" "),s("blockquote",[s("p",[a._v("-v参数可以显示一次完整的http通信过程。包括端口连接和http request头信息")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" www.sina.com\n")])])]),s("h6",{attrs:{id:"显示更详细的通信过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示更详细的通信过程"}},[a._v("#")]),a._v(" 显示更详细的通信过程")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--trace")]),a._v(" output.txt www.sina.com\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" --trace-ascii output.txt www.sina.com\n")])])]),s("h6",{attrs:{id:"发送表单信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送表单信息"}},[a._v("#")]),a._v(" 发送表单信息")]),a._v(" "),s("blockquote",[s("p",[a._v("GET只需要把数据附在链接后面即可")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" example.com?a"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("b")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("POST请求必须把数据和链接分开 使用-d或者--data来发送数据 需要显式的声明post方法")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--data")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"data=111"')]),a._v(" example.com/form.cgi\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果数据没有经过表单编码 可以使用--data-urlencode进行编码")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST --data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"data=测试数据"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://httpbin.org/post"')]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("POST json数据 需要声明头信息")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Content-Type: application/json"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[a._v('\\"')]),a._v("test"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[a._v('\\"')]),a._v(':1111}"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://httpbin.org/post"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# json数据放在文件里面")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Content-Type: application/json"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" @test.json "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://httpbin.org/post"')]),a._v("\n")])])]),s("h6",{attrs:{id:"curl动词"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl动词"}},[a._v("#")]),a._v(" curl动词")]),a._v(" "),s("blockquote",[s("p",[a._v("curl默认使用的动词是GET 可以通过-X参数使用别的动词")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" DELETE example.com/111.png\n")])])]),s("h6",{attrs:{id:"user-agent字段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user-agent字段"}},[a._v("#")]),a._v(" User Agent字段")]),a._v(" "),s("blockquote",[s("p",[a._v("这个字段是用来标识客户端的设备信息，服务器有时候会根据这个字段，针对不同设备，返回不同信息。")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.84 Safari/537.36\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" --user-agent "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.84 Safari/537.36"')]),a._v(" example.com\n")])])]),s("h6",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[a._v("#")]),a._v(" cookie")]),a._v(" "),s("blockquote",[s("p",[a._v("使用--cookie参数 可以让curl发送请求时携带cookie信息")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--cookie")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"name=xxxx"')]),a._v(" example.com\n")])])]),s("blockquote",[s("p",[a._v("有时需要在http request中增加一个头信息 可以使用--header")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--header")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Content-Type: application/json"')]),a._v(" http://example.com\n")])])]),s("h6",{attrs:{id:"文件上传"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件上传"}},[a._v("#")]),a._v(" 文件上传")]),a._v(" "),s("blockquote",[s("p",[a._v("使用-F参数来模拟multipart/form-data形式的form文件上传。文件需要使用 name=@file的方式来指定。")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"file=@/home/test/test.png"')]),a._v(" http://example.com/upload\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果通过代理，上述直接上传的命令会失效，需要指定上传文件的MIME类型")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v(" myproxy:1080 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"file=@/home/test/test.png;type=application/octet-stream"')]),a._v(" http://example.com/upload\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);