(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{375:function(s,t,a){"use strict";a.r(t);var r=a(5),e=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"centos安装chrony同步时间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos安装chrony同步时间"}},[s._v("#")]),s._v(" Centos安装chrony同步时间")]),s._v(" "),t("p",[t("code",[s._v("chrony")]),s._v("是一个时间同步工具，旨在替换掉传统的"),t("code",[s._v("ntpd")]),s._v("服务。特别适合现在的动态设备（如虚拟机、容器和移动设备），具有更快的同步速度和更高的灵活性。下面是关于"),t("code",[s._v("chrony")]),s._v("的原理和安装教程。")]),s._v(" "),t("h2",{attrs:{id:"chrony的原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chrony的原理"}},[s._v("#")]),s._v(" "),t("code",[s._v("chrony")]),s._v("的原理")]),s._v(" "),t("ul",[t("li",[t("b",[s._v("客户端和服务器通信")]),s._v("："),t("code",[s._v("chronyd")]),s._v("作为客户端，向配置的"),t("code",[s._v("ntp")]),s._v("服务器发送时间同步请求。")]),s._v(" "),t("li",[t("b",[s._v("计算时间偏差")]),s._v("：根据服务器的响应时间，计算本地系统时间和服务器时间的偏差。")]),s._v(" "),t("li",[t("b",[s._v("逐步调整时间")]),s._v("：通过算法逐步调整时间，避免时间跳变。")]),s._v(" "),t("li",[t("b",[s._v("持续监控")]),s._v("：定期与服务器通信，去报时间的持续同步。")])]),s._v(" "),t("h2",{attrs:{id:"安装chrony"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装chrony"}},[s._v("#")]),s._v(" 安装"),t("code",[s._v("chrony")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" chrony "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])])]),t("h2",{attrs:{id:"配置chrony"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置chrony"}},[s._v("#")]),s._v(" 配置"),t("code",[s._v("chrony")])]),s._v(" "),t("p",[t("code",[s._v("chrony")]),s._v("的配置文件位于"),t("code",[s._v("/etc/chrony.conf")]),s._v("，你可以根据需要修改它。以下是一个基本的配置示例：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用公共 NTP 服务器")]),s._v("\nserver ntp.aliyun.com iburst\nserver ntp.tuna.tsinghua.edu.cn iburst\nserver time.cloud.tencent.com iburst\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许本地网络同步（可选）")]),s._v("\nallow "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0/24\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用本地硬件时钟作为备用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" stratum "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 记录时间偏差日志")]),s._v("\ndriftfile /var/lib/chrony/drift\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用日志")]),s._v("\nlogdir /var/log/chrony\n")])])]),t("ul",[t("li",[t("code",[s._v("server")]),s._v("：指定"),t("code",[s._v("ntp")]),s._v("服务器地址。")]),s._v(" "),t("li",[t("code",[s._v("iburst")]),s._v("：在初始同步时发送多个请求，以加快时间的同步速度。")]),s._v(" "),t("li",[t("code",[s._v("allow")]),s._v("：允许特定网络段进行时间同步。")]),s._v(" "),t("li",[t("code",[s._v("local stratum 10")]),s._v("：将本地硬件时钟作为备用，并设置其层级为10。")]),s._v(" "),t("li",[t("code",[s._v("driftfile")]),s._v("：指定时间偏差日志文件。")]),s._v(" "),t("li",[t("code",[s._v("logdir")]),s._v("：指定日志目录。")])]),s._v(" "),t("h2",{attrs:{id:"启动chrony"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动chrony"}},[s._v("#")]),s._v(" 启动"),t("code",[s._v("chrony")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 chronyd 服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start chronyd\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置 chronyd 服务开机自启")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" chronyd\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看chronyd服务状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status chronyd\n● chronyd.service - NTP client/server\n   Loaded: loaded "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/usr/lib/systemd/system/chronyd.service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" enabled"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset: enabled"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Active: active "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("running"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since 一 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2025")]),s._v("-01-13 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":46:13 CST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 18min ago\n     Docs: man:chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           man:chrony.conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Process: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28226")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStartPost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/libexec/chrony-helper update-daemon "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/SUCCESS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Process: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28221")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/sbin/chronyd "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OPTIONS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/SUCCESS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n Main PID: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Tasks: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n   Memory: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("436")]),s._v(".0K\n   CGroup: /system.slice/chronyd.service\n           └─28223 /usr/sbin/chronyd\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":46:13 k8s-master systemd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Starting NTP client/server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":46:13 k8s-master chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": chronyd version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),s._v(" starting "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("+CMDMON +NTP +REFCLOCK +RTC +PRIVDROP +SCFILTER +SIGND +ASYNCDNS +SECHASH +IPV6 +DEBUG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":46:13 k8s-master chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Frequency "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-7.521")]),s._v(" +/- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.022")]),s._v(" ppm "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" from /var/lib/chrony/drift\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":46:13 k8s-master systemd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Started NTP client/server.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":46:18 k8s-master chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Selected "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("203.107")]),s._v(".6.88\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":47:25 k8s-master chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Selected "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("106.55")]),s._v(".184.199\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":48:39 k8s-master chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Source "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101.6")]),s._v(".6.172 replaced with "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2402")]),s._v(":f000:1:416:101:6:6:172\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":50:39 k8s-master chronyd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28223")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Selected "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("203.107")]),s._v(".6.88\n")])])]),t("h2",{attrs:{id:"使用chronyc监控和管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用chronyc监控和管理"}},[s._v("#")]),s._v(" 使用"),t("code",[s._v("chronyc")]),s._v("监控和管理")]),s._v(" "),t("h3",{attrs:{id:"查看时间同步状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看时间同步状态"}},[s._v("#")]),s._v(" 查看时间同步状态")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("chronyc tracking\nReference ID    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" CB6B0658 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("203.107")]),s._v(".6.88"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nStratum         "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nRef "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UTC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Mon Jan "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" 03:06:49 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2025")]),s._v("\nSystem "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000283244")]),s._v(" seconds fast of NTP "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("\nLast offset     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-0.000016659")]),s._v(" seconds\nRMS offset      "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000747371")]),s._v(" seconds\nFrequency       "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.316")]),s._v(" ppm slow\nResidual freq   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-0.044")]),s._v(" ppm\nSkew            "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.792")]),s._v(" ppm\nRoot delay      "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.025830340")]),s._v(" seconds\nRoot dispersion "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.004631587")]),s._v(" seconds\nUpdate interval "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128.9")]),s._v(" seconds\nLeap status     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Normal\n")])])]),t("h3",{attrs:{id:"查看所有时间源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看所有时间源"}},[s._v("#")]),s._v(" 查看所有时间源")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("chronyc sources\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("210")]),s._v(" Number of sources "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nMS Name/IP address         Stratum Poll Reach LastRx Last sample               \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n^* "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("203.107")]),s._v(".6.88                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("377")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v("   +717us"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" +700us"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" +/-   24ms\n^? "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2402")]),s._v(":f000:1:416:101:6:6:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     -     +0ns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("   +0ns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" +/-    0ns\n^+ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("106.55")]),s._v(".184.199                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("377")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("   -974us"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -991us"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" +/-   60ms\n")])])]),t("h3",{attrs:{id:"手动同步时间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动同步时间"}},[s._v("#")]),s._v(" 手动同步时间")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("chronyc makestep\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" OK\n")])])]),t("h3",{attrs:{id:"检查ntp服务器状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查ntp服务器状态"}},[s._v("#")]),s._v(" 检查"),t("code",[s._v("ntp")]),s._v("服务器状态")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" chronyc sourcestats\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("210")]),s._v(" Number of sources "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("203.107")]),s._v(".6.88               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("   22m     +0.678      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.094")]),s._v("    +27us  1785us\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2402")]),s._v(":f000:1:416:101:6:6:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     +0.000   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000.000")]),s._v("     +0ns  4000ms\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("106.55")]),s._v(".184.199             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("   22m     "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-0.102")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.510")]),s._v("    +22us   783us\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);