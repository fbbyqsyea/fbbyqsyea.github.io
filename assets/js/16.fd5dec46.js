(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{318:function(a,s,t){"use strict";t.r(s);var e=t(5),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"linux机器时间同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux机器时间同步"}},[a._v("#")]),a._v(" linux机器时间同步")]),a._v(" "),s("h3",{attrs:{id:"修改时区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改时区"}},[a._v("#")]),a._v(" 修改时区")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])])]),s("h3",{attrs:{id:"网络时间同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络时间同步"}},[a._v("#")]),a._v(" 网络时间同步")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /usr/sbin/ntpdate "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" cn.pool.ntp.org\n")])])]),s("h3",{attrs:{id:"写入硬件时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写入硬件时间"}},[a._v("#")]),a._v(" 写入硬件时间")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 服务器每次重启都会参考硬件的时间，所以需要将当前系统的时间写入到硬件。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看当前硬件时间")]),a._v("\n$ hwclock "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 写入硬件时间")]),a._v("\n$ hwclock "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v("\n")])])]),s("h3",{attrs:{id:"配置时间自动同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置时间自动同步"}},[a._v("#")]),a._v(" 配置时间自动同步")]),a._v(" "),s("h5",{attrs:{id:"配置开机时间自检"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置开机时间自检"}},[a._v("#")]),a._v(" 配置开机时间自检")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 向linux系统开机自启动执行文件添加自检任务")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/rc.d/rc.local\n$ /usr/sbin/ntpdate "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" cn.pool.ntp.org"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /var/log/ntpdate_boot.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("2")]),a._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("&1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" /sbin/hwclock "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v("\n")])])]),s("h5",{attrs:{id:"配置定期时间自检"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置定期时间自检"}},[a._v("#")]),a._v(" 配置定期时间自检")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 配置定时任务 每10分钟执行时间自检任务")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("crontab")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v("\n$ 00 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" * * * /usr/sbin/ntpdate "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" cn.pool.ntp.org "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /var/log/ntpdate_cron.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("2")]),a._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("&1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" /sbin/hwclock "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);