(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{376:function(t,a,s){"use strict";s.r(a);var n=s(5),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gin框架集成prometheus指标数据分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gin框架集成prometheus指标数据分析"}},[t._v("#")]),t._v(" Gin框架集成Prometheus指标数据分析")]),t._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("在现代的微服务架构中，监控系统的性能和健康状况是至关重要的。Prometheus 是一个开源的监控和告警工具，广泛用于收集和查询时间序列数据。Gin 是一个高性能的 Go Web 框架，结合 Prometheus 可以方便地监控 HTTP 请求、系统资源使用情况以及 Go 运行时的状态。")]),t._v(" "),a("p",[t._v("本文将介绍如何在 Gin 框架中集成 Prometheus，并通过多个关键指标来监控系统的性能和健康状况。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"http-请求相关指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求相关指标"}},[t._v("#")]),t._v(" HTTP 请求相关指标")]),t._v(" "),a("h3",{attrs:{id:"http-请求总数-nexco-http-requests-total"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求总数-nexco-http-requests-total"}},[t._v("#")]),t._v(" HTTP 请求总数 (nexco_http_requests_total)")]),t._v(" "),a("p",[t._v("展示 HTTP 请求的总数。这个指标可以帮助我们了解系统的负载情况，以及不同 HTTP 方法和路径的请求分布情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_requests_total"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("1m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v('nexco_http_requests_total{instance="nexco.fbbmore.com", path!~"/healthcheck|/metrics|/|/favicon.ico"}')]),t._v("：选择所有实例为 "),a("code",[t._v("nexco.fbbmore.com")]),t._v(" 且路径不匹配 "),a("code",[t._v("/healthcheck")]),t._v("、"),a("code",[t._v("/metrics")]),t._v("、"),a("code",[t._v("/")]),t._v(" 和 "),a("code",[t._v("/favicon.ico")]),t._v(" 的 HTTP 请求总数指标。")]),t._v(" "),a("li",[a("code",[t._v("rate([1m])")]),t._v("：计算过去 1 分钟内的平均请求速率。")]),t._v(" "),a("li",[a("code",[t._v("by(status)")]),t._v("：按 HTTP 状态码分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"http-请求总数-nexco-http-requests-total-sum-by-container"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求总数-nexco-http-requests-total-sum-by-container"}},[t._v("#")]),t._v(" HTTP 请求总数 (nexco_http_requests_total) Sum By Container")]),t._v(" "),a("p",[t._v("展示 HTTP 请求的总数，按容器名称分组。这个指标可以帮助我们了解不同容器实例的负载情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_requests_total"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("1m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("by(container)")]),t._v("：按容器名称分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"http-请求总数-nexco-http-requests-total-sum-by-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求总数-nexco-http-requests-total-sum-by-path"}},[t._v("#")]),t._v(" HTTP 请求总数 (nexco_http_requests_total) Sum By Path")]),t._v(" "),a("p",[t._v("展示 HTTP 请求的总数，按路径分组。这个指标可以帮助我们了解不同路径的请求分布情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_requests_total"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("1m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("by(path)")]),t._v("：按路径分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"http-请求持续时间-nexco-http-request-duration-seconds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求持续时间-nexco-http-request-duration-seconds"}},[t._v("#")]),t._v(" HTTP 请求持续时间 (nexco_http_request_duration_seconds)")]),t._v(" "),a("p",[t._v("展示 HTTP 请求的持续时间。这个指标可以帮助我们了解系统的性能瓶颈，以及不同 HTTP 方法和路径的请求延迟情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_request_duration_seconds_sum"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_request_duration_seconds_count"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("nexco_http_request_duration_seconds_sum")]),t._v("：HTTP 请求持续时间的总和。")]),t._v(" "),a("li",[a("code",[t._v("nexco_http_request_duration_seconds_count")]),t._v("：HTTP 请求持续时间的计数。")]),t._v(" "),a("li",[a("code",[t._v("rate([5m])")]),t._v("：计算过去 5 分钟内的平均请求持续时间。")]),t._v(" "),a("li",[a("code",[t._v("by(status)")]),t._v("：按 HTTP 状态码分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"http-请求持续时间-nexco-http-request-duration-seconds-sum-by-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求持续时间-nexco-http-request-duration-seconds-sum-by-path"}},[t._v("#")]),t._v(" HTTP 请求持续时间 (nexco_http_request_duration_seconds) Sum By Path")]),t._v(" "),a("p",[t._v("展示 HTTP 请求的持续时间，按路径分组。这个指标可以帮助我们了解不同路径的请求延迟情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_request_duration_seconds_sum"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_request_duration_seconds_count"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("by(path)")]),t._v("：按路径分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"http-请求持续时间-nexco-http-request-duration-seconds-sum-by-container"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求持续时间-nexco-http-request-duration-seconds-sum-by-container"}},[t._v("#")]),t._v(" HTTP 请求持续时间 (nexco_http_request_duration_seconds) Sum By Container")]),t._v(" "),a("p",[t._v("展示 HTTP 请求的持续时间，按容器分组。这个指标可以帮助我们了解不同容器的请求延迟情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_request_duration_seconds_sum"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nexco_http_request_duration_seconds_count"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("!~")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"/healthcheck|/metrics|/|/favicon.ico"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("by(container)")]),t._v("：按容器分组。")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"系统资源相关指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统资源相关指标"}},[t._v("#")]),t._v(" 系统资源相关指标")]),t._v(" "),a("h3",{attrs:{id:"内存使用情况-process-resident-memory-bytes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内存使用情况-process-resident-memory-bytes"}},[t._v("#")]),t._v(" 内存使用情况 (process_resident_memory_bytes)")]),t._v(" "),a("p",[t._v("展示进程的常驻内存使用情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[t._v("process_resident_memory_bytes"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("process_resident_memory_bytes")]),t._v("：进程的常驻内存使用情况。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将内存使用情况与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"cpu-使用情况-process-cpu-seconds-total"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpu-使用情况-process-cpu-seconds-total"}},[t._v("#")]),t._v(" CPU 使用情况 (process_cpu_seconds_total)")]),t._v(" "),a("p",[t._v("展示进程的 CPU 使用情况。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process_cpu_seconds_total"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("process_start_time_seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("process_cpu_seconds_total")]),t._v("：进程的 CPU 使用时间。")]),t._v(" "),a("li",[a("code",[t._v("(time() - process_start_time_seconds)")]),t._v("：进程的运行时间。")]),t._v(" "),a("li",[a("code",[t._v("/")]),t._v("：计算 CPU 使用率。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将 CPU 使用率与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"网络接收字节数-process-network-receive-bytes-total"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络接收字节数-process-network-receive-bytes-total"}},[t._v("#")]),t._v(" 网络接收字节数（process_network_receive_bytes_total）")]),t._v(" "),a("p",[t._v("根据容器区分展示进程的网络接收字节数。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process_network_receive_bytes_total"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("process_start_time_seconds"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("process_network_receive_bytes_total")]),t._v("：进程的网络接收字节数。")]),t._v(" "),a("li",[a("code",[t._v("/")]),t._v("：计算网络接收速率。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将网络接收速率与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"网络发送字节数-process-network-transmit-bytes-total"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络发送字节数-process-network-transmit-bytes-total"}},[t._v("#")]),t._v(" 网络发送字节数（process_network_transmit_bytes_total）")]),t._v(" "),a("p",[t._v("根据容器区分展示进程的网络发送字节数。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process_network_transmit_bytes_total"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("process_start_time_seconds"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("process_network_transmit_bytes_total")]),t._v("：进程的网络发送字节数。")]),t._v(" "),a("li",[a("code",[t._v("/")]),t._v("：计算网络发送速率。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将网络发送速率与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"go-运行时相关指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-运行时相关指标"}},[t._v("#")]),t._v(" Go 运行时相关指标")]),t._v(" "),a("h3",{attrs:{id:"go-内存分配-go-memstats-alloc-bytes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-内存分配-go-memstats-alloc-bytes"}},[t._v("#")]),t._v(" Go 内存分配 (go_memstats_alloc_bytes)")]),t._v(" "),a("p",[t._v("展示当前堆内存中分配的字节数。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[t._v("go_memstats_alloc_bytes"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("go_memstats_alloc_bytes")]),t._v("：当前堆内存中分配的字节数。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将内存分配指标与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"go-gc-暂停时间-go-gc-duration-seconds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-gc-暂停时间-go-gc-duration-seconds"}},[t._v("#")]),t._v(" Go GC 暂停时间 (go_gc_duration_seconds)")]),t._v(" "),a("p",[t._v("展示 Go 垃圾回收的暂停时间。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("go_gc_duration_seconds_sum"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("go_gc_duration_seconds_count"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token context-range"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token range-duration number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("go_gc_duration_seconds_sum")]),t._v("：Go GC 暂停时间的总和。")]),t._v(" "),a("li",[a("code",[t._v("go_gc_duration_seconds_count")]),t._v("：Go GC 暂停时间的计数。")]),t._v(" "),a("li",[a("code",[t._v("/")]),t._v("：计算平均 GC 暂停时间。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将 GC 暂停时间与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"go-goroutines-数量-go-goroutines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-goroutines-数量-go-goroutines"}},[t._v("#")]),t._v(" Go Goroutines 数量 (go_goroutines)")]),t._v(" "),a("p",[t._v("展示当前 Goroutines 的数量。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[t._v("go_goroutines"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("go_goroutines")]),t._v("：当前 Goroutines 的数量。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将 Goroutines 数量与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"其他指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他指标"}},[t._v("#")]),t._v(" 其他指标")]),t._v(" "),a("h3",{attrs:{id:"服务数量-nexco-container"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务数量-nexco-container"}},[t._v("#")]),t._v(" 服务数量（nexco_container）")]),t._v(" "),a("p",[t._v("展示当前服务启动的数量。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[t._v("nexco_container\n")])])]),a("h3",{attrs:{id:"进程启动时间-process-start-time-seconds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程启动时间-process-start-time-seconds"}},[t._v("#")]),t._v(" 进程启动时间 (process_start_time_seconds)")]),t._v(" "),a("p",[t._v("展示进程的启动时间。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("process_start_time_seconds"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("time() - process_start_time_seconds")]),t._v("：计算进程的运行时间。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将进程运行时间与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"打开的文件描述符-process-open-fds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打开的文件描述符-process-open-fds"}},[t._v("#")]),t._v(" 打开的文件描述符（process_open_fds）")]),t._v(" "),a("p",[t._v("根据容器区分展示打开的文件描述符。")]),t._v(" "),a("div",{staticClass:"language-promql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-promql"}},[a("code",[t._v("process_open_fds"),a("span",{pre:!0,attrs:{class:"token context-labels"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"nexco.fbbmore.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group_left")]),a("span",{pre:!0,attrs:{class:"token vector-match"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" nexco_container\n")])])]),a("ul",[a("li",[a("strong",[t._v("解释")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("process_open_fds")]),t._v("：打开的文件描述符数量。")]),t._v(" "),a("li",[a("code",[t._v("* on() group_left(container)")]),t._v("：将文件描述符数量与容器指标进行左连接，按容器分组。")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("通过集成 Prometheus，我们可以方便地监控 Gin 框架中的 HTTP 请求、系统资源使用情况以及 Go 运行时的状态。这些指标不仅帮助我们了解系统的负载和性能瓶颈，还能为系统的优化提供数据支持。")]),t._v(" "),a("p",[t._v("在实际应用中，建议结合 Grafana 等可视化工具，将这些指标以图表的形式展示，进一步提升监控的直观性和可操作性。")])])}),[],!1,null,null,null);a.default=e.exports}}]);