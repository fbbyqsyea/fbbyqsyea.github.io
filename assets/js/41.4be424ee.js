(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{343:function(a,t,s){"use strict";s.r(t);var r=s(5),e=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"git如何初始化master分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git如何初始化master分支"}},[a._v("#")]),a._v(" git如何初始化master分支")]),a._v(" "),t("h2",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[a._v("#")]),a._v(" 背景")]),a._v(" "),t("p",[a._v("最近在创建新的项目分支的时候遇到了公司git服务和git命令初始化分支不一致的情况，公司的git服务在创建项目时还是老版本的master分之作为主线分支，但是git命令行自从版本"),t("b",[t("em",[a._v("2.28")])]),a._v('以后，默认的主分支名称已从"master"更改为"main"，以更加包容和反映多样性。因此，无法直接在git init命令中将主分支指定为"master"。')]),a._v(" "),t("h2",{attrs:{id:"方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案"}},[a._v("#")]),a._v(" 方案")]),a._v(" "),t("p",[a._v("虽然无法直接在git init中将主分支直接指定为master分支，但是我们可以使用下面的命令来讲git init后的main分支重命名为master分支。具体步骤如下:")]),a._v(" "),t("h6",{attrs:{id:"初始化git仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化git仓库"}},[a._v("#")]),a._v(" 初始化git仓库")]),a._v(" "),t("p",[a._v('在命令行或终端中，使用git init命令初始化一个新的Git仓库。默认情况下，它将创建一个名为"main"的主分支。')]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" init\n")])])]),t("h6",{attrs:{id:"重命名git仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重命名git仓库"}},[a._v("#")]),a._v(" 重命名git仓库")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" branch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" main master\n")])])]),t("p",[a._v("通过上面的两个步骤，你就可以拥有一个和服务端保持一致的master分支了。")]),a._v(" "),t("h2",{attrs:{id:"详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#详解"}},[a._v("#")]),a._v(" 详解")]),a._v(" "),t("p",[a._v("下面是 "),t("em",[a._v("git branch -m")]),a._v(" 命令的详解:")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" branch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-help")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nWith a "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" or "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-M")]),a._v(" option, "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("oldbranch"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" will be renamed to "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("newbranch"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(". If "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("oldbranch"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" had a corresponding reflog, it is renamed to match "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("newbranch"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(", and a\n       reflog entry is created to remember the branch renaming. If "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("newbranch"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" exists, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-M")]),a._v(" must be used to force the "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rename")]),a._v(" to happen.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用 -m 或 -M 选项，<oldbranch> 将被重命名为 <newbranch>。如果 <oldbranch> 有对应的引用日志(reflog)，它将被重命名为与 <newbranch> 相匹配，并创建一个引用日志条目来记录分支的重命名。如果 <newbranch> 已经存在，必须使用 -M 选项来强制执行重命名操作。")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);