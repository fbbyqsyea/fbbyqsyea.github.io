(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{370:function(e,t,a){"use strict";a.r(t);var s=a(5),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"centos-修改yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-修改yum源"}},[e._v("#")]),e._v(" CentOS 修改"),t("code",[e._v("yum")]),e._v("源")]),e._v(" "),t("h2",{attrs:{id:"什么是yum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是yum"}},[e._v("#")]),e._v(" 什么是"),t("code",[e._v("yum")])]),e._v(" "),t("p",[t("b",[e._v("YUM")]),e._v("（全称Yellowdog Updater,Modified）是一个在类Unix系统中，特别是Red Hat系列的发行版（如Centos、RHEL、Fedora）中，常用的包管理工具。它用来自动的安装、更新、删除和管理软件包，可以简化系统管理员的工作。")]),e._v(" "),t("h6",{attrs:{id:"yum的工作原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum的工作原理"}},[e._v("#")]),e._v(" "),t("code",[e._v("yum")]),e._v("的工作原理")]),e._v(" "),t("ol",[t("li",[t("b",[e._v("依赖管理")]),e._v("："),t("code",[e._v("yum")]),e._v("会自动处理软件包的依赖关系，确保所需要的库文件和包都能一起安装。")]),e._v(" "),t("li",[t("b",[e._v("软件包安装")]),e._v("："),t("code",[e._v("yum")]),e._v("使用命令来管理软件包，比如"),t("code",[e._v("yum install")]),e._v("来安装软件包，"),t("code",[e._v("yum update")]),e._v("来更新软件包，"),t("code",[e._v("yum remove")]),e._v("来删除软件包。")]),e._v(" "),t("li",[t("b",[e._v("远程仓库")]),e._v("："),t("code",[e._v("yum")]),e._v("通过配置软件源"),t("code",[e._v("yum Repository")]),e._v("来获取软件包，这些软件源可以是本地的，也可以是远程的，比如CentOS官方的软件源，或者第三方的软件源。")])]),e._v(" "),t("h2",{attrs:{id:"什么是yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是yum源"}},[e._v("#")]),e._v(" 什么是"),t("code",[e._v("yum")]),e._v("源")]),e._v(" "),t("p",[t("b",[e._v("YUM源（Yum Repository）")]),e._v("是一个存放软件包（RPM包）和相关元数据（如安装的依赖信息、包的描述信息等）的存储位置。它可以是一个本地的目录、FTP服务器、HTTP服务器等或者是一个远程仓库。通过配置不同的软件源，"),t("code",[e._v("yum")]),e._v("可以方便的从这些仓库中下载所需的软件包。")]),e._v(" "),t("h6",{attrs:{id:"yum源的特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum源的特点"}},[e._v("#")]),e._v(" "),t("code",[e._v("yum")]),e._v("源的特点：")]),e._v(" "),t("ol",[t("li",[t("b",[e._v("仓库位置")]),e._v("：源地址通常是一个URL，指向包含"),t("code",[e._v("RPM")]),e._v("包的服务器。")]),e._v(" "),t("li",[t("b",[e._v("元数据")]),e._v("：仓库中会存放关于软件包的元数据，"),t("code",[e._v("yum")]),e._v("会通过这些元数据来了解有哪些软件包、版本、依赖等信息。")]),e._v(" "),t("li",[t("b",[e._v("配置文件")]),e._v("："),t("code",[e._v("yum")]),e._v("源通常保存在"),t("code",[e._v("/etc/yum.repos.d/")]),e._v("目录下面的"),t("code",[e._v(".repo")]),e._v("文件中。")])]),e._v(" "),t("p",[e._v("例如，一个典型的"),t("code",[e._v("yum")]),e._v("源配置文件如下：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("CentOS-"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$releasever")]),e._v(" - Base\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("baseurl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://mirror.centos.org/centos/"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$releasever")]),e._v("/os/"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$basearch")]),e._v("/\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("enabled")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("gpgcheck")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("gpgkey")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-7\n")])])]),t("p",[e._v("这段表示"),t("code",[e._v("yum")]),e._v("会从"),t("code",[e._v("http://mirror.centos.org/centos/$releasever/os/$basearch/")]),e._v("这个地址下载软件包，并且会验证软件包的签名。其中"),t("code",[e._v("$releasever")]),e._v("和"),t("code",[e._v("$basearch")]),e._v("是变量，会根据当前的操作系统版本和架构来替换。")]),e._v(" "),t("p",[e._v("通过"),t("code",[e._v("yum")]),e._v("源，用户可以轻松的安装和管理软件，而无需自己手动下载和管理软件包。")]),e._v(" "),t("h2",{attrs:{id:"为什么要修改yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要修改yum源"}},[e._v("#")]),e._v(" 为什么要修改"),t("code",[e._v("yum")]),e._v("源")]),e._v(" "),t("p",[e._v("替换国内"),t("code",[e._v("yum")]),e._v("源的原因主要有：")]),e._v(" "),t("ol",[t("li",[t("b",[e._v("网络访问速度慢")]),e._v("：CentOS官方的yum源服务器在国外，访问速度较慢，而国内的一些yum源服务器在国内，访问速度较快。")]),e._v(" "),t("li",[t("b",[e._v("提高下载稳定性")]),e._v("：国内的一些yum源服务器通常有更好的网络带宽和更稳定的访问速度，可以保证软件包的下载速度和稳定性。")]),e._v(" "),t("li",[t("b",[e._v("规避网络封锁")]),e._v("：有些网络环境可能会封锁国外的一些网站，导致无法访问CentOS官方的yum源，而国内的一些yum源服务器则通常不会被封锁。")]),e._v(" "),t("li",[t("b",[e._v("国内YUM源维护与更新")]),e._v("：国内的一些yum源服务器通常会有更好的维护和更新，可以提供更及时和稳定的软件包更新。")])]),e._v(" "),t("h2",{attrs:{id:"yum源的选择"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum源的选择"}},[e._v("#")]),e._v(" "),t("code",[e._v("yum")]),e._v("源的选择")]),e._v(" "),t("p",[e._v("国内的一些大厂和大学都提供了稳定的"),t("code",[e._v("yum")]),e._v("源，比如阿里云、网易、清华大学等。这些源通常会有更好的网络带宽和更稳定的访问速度，可以保证软件包的下载速度和稳定性。它们会同步CentOS官方的yum源，并添加一些常用的软件包，方便用户使用。")]),e._v(" "),t("h6",{attrs:{id:"常见的国内yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见的国内yum源"}},[e._v("#")]),e._v(" 常见的国内"),t("code",[e._v("yum")]),e._v("源：")]),e._v(" "),t("ol",[t("li",[t("b",[e._v("阿里云")]),e._v("："),t("a",{attrs:{href:"https://developer.aliyun.com/mirror/centos",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://developer.aliyun.com/mirror/centos"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("b",[e._v("网易")]),e._v("："),t("a",{attrs:{href:"http://mirrors.163.com/.help/centos.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://mirrors.163.com/.help/centos.html"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("b",[e._v("清华大学")]),e._v("："),t("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/help/centos/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://mirrors.tuna.tsinghua.edu.cn/help/centos/"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("b",[e._v("中科大")]),e._v("："),t("a",{attrs:{href:"https://mirrors.ustc.edu.cn/help/centos.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://mirrors.ustc.edu.cn/help/centos.html"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("b",[e._v("华为云")]),e._v("："),t("a",{attrs:{href:"https://mirrors.huaweicloud.com/centos/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://mirrors.huaweicloud.com/centos/"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"如何修改yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何修改yum源"}},[e._v("#")]),e._v(" 如何修改"),t("code",[e._v("yum")]),e._v("源")]),e._v(" "),t("p",[e._v("我们以阿里云的"),t("code",[e._v("yum")]),e._v("源为例，介绍如何修改"),t("code",[e._v("yum")]),e._v("源。")]),e._v(" "),t("h6",{attrs:{id:"步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[e._v("#")]),e._v(" 步骤：")]),e._v(" "),t("ol",[t("li",[e._v("备份源有的"),t("code",[e._v("yum")]),e._v("源配置文件：")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("下载阿里云的"),t("code",[e._v("yum")]),e._v("源配置文件：")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-O")]),e._v(" /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("清理缓存：")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" yum clean all\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("生成新的缓存：")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" yum makecache\n")])])]),t("ol",{attrs:{start:"5"}},[t("li",[e._v("查看源是否修改成功：")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("yum repolist\n")])])]),t("p",[e._v("如果看到阿里云的"),t("code",[e._v("yum")]),e._v("源已经添加到列表中，说明修改成功。")])])}),[],!1,null,null,null);t.default=r.exports}}]);